---
app-id: org.lutris.Lutris
runtime: org.freedesktop.Platform
runtime-version: '18.08'
sdk: org.freedesktop.Sdk
command: lutris
rename-desktop-file: lutris.desktop
rename-appdata-file: lutris.appdata.xml
rename-icon: lutris
finish-args:
- "--socket=x11"
- "--socket=wayland"
- "--socket=pulseaudio"
- "--socket=system-bus"
- "--socket=session-bus"
- "--share=ipc"
- "--share=network"
- "--device=all"
- "--filesystem=host"
- "--allow=multiarch"
- "--talk-name=org.freedesktop.Flatpak"
- "--talk-name=org.gnome.SettingsDaemon"
- "--talk-name=org.gnome.SettingsDaemon.MediaKeys"
- "--system-talk-name=org.freedesktop.NetworkManager"
- "--talk-name=org.kde.StatusNotifierWatcher"
- "--system-talk-name=org.freedesktop.UPower"
- "--filesystem=home:ro"
- "--filesystem=~/.var/app/com.valvesoftware.Steam:ro"
add-extensions:
  org.freedesktop.Platform.GL32:
    directory: lib/i386-linux-gnu/GL
    version: '1.4'
    versions: 18.08;1.4
    subdirectories: true
    no-autodownload: true
    autodelete: false
    add-ld-path: lib
    merge-dirs: vulkan/icd.d;glvnd/egl_vendor.d
    download-if: active-gl-driver
    enable-if: active-gl-driver
modules:
- name: xrandr
  sources:
  - type: archive
    url: https://xorg.freedesktop.org/archive/individual/app/xrandr-1.5.0.tar.bz2
    sha256: c1cfd4e1d4d708c031d60801e527abc9b6d34b85f2ffa2cadd21f75ff38151cd
- python3-PyYAML.yaml
- python3-PyGObject.yaml
- python3-evdev.yaml
- name: lutris
  sources:
  - type: git
    url: https://github.com/lutris/lutris.git
  buildsystem: simple
  build-commands:
  - pip3 install --prefix=/app .
